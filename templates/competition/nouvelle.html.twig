{% extends 'base.html.twig' %}

{% block title %}{{ 'competition.create_title'|trans }}{% endblock %}

{% block body %}
	<div class="min-h-screen w-screen bg-cover bg-center bg-no-repeat bg-local" style="background-image: url('{{ asset('/images/FondCreation.svg') }}');">
		<div class="min-h-screen w-screen bg-black/10">
			<div class="min-h-screen w-screen ">
				<div class="min-h-screen w-screen bg-black/10 flex items-center justify-center">
					<div class="w-full max-w-3xl px-6 py-12">

						<div class="mb-8 text-center">
							<h1 class="text-3xl font-bold text-slate-900 text-white underline underline-offset-8">{{ 'competition.create_new'|trans }}</h1>
							<br/>
							<p class="mt-2 text-sm text-slate-700/80 text-white">
								{{ 'competition.fill_info'|trans }}
							</p>
						</div>
						{% if is_granted('ROLE_ORGANISATEUR') %}
							{% for label, messages in app.flashes %}
								{% for message in messages %}
									<div class="alert alert-{{ label == 'danger' ? 'danger' : 'success' }} p-4 mb-4 rounded border shadow-sm">
										<strong>{{ label == 'danger' ? 'flash.error'|trans : 'flash.success'|trans }}</strong>
										{{ message }}
									</div>
								{% endfor %}
							{% endfor %}
							<div class="rounded-2xl bg-white/90 shadow-xl ring-1 ring-black/5 backdrop-blur">
								<div class="p-6 sm:p-8">

									<div class="flex items-start justify-between gap-4">
										<div>
											<h2 class="text-lg font-semibold text-slate-900">{{ 'competition.details'|trans }}</h2>
											<p class="mt-1 text-sm text-slate-600">
												{{ 'competition.required_fields'|trans }}
											</p>
										</div>
										<div class="grid h-11 w-11 place-items-center rounded-2xl bg-emerald-600/15 text-emerald-800 ring-1 ring-emerald-600/20">
											+
										</div>
									</div>
									<form
										method="post" action="{{ path('app_competition_enregistrerCompetition') }}" class="mt-6 space-y-5">
										<div>
											<label for="nom" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
												{{ 'competition.name'|trans }}
												<span class="text-red-600">*</span>
											</label>
											<input id="nom" type="text" name="nom" placeholder="Ex: Robot Clash Cup" required class="block w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																						                         placeholder:text-slate-400 focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"/>
										</div>

										<div>
											<label for="description" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
												{{ 'competition.description'|trans }}
												<span class="text-red-600">*</span>
											</label>
											<textarea id="description" name="description" rows="4" placeholder="{{ 'competition.description_placeholder'|trans }}" required class="block w-full resize-none rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																								                         placeholder:text-slate-400 focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"></textarea>
										</div>

										<div class="grid grid-cols-1 gap-5 md:grid-cols-2">
											<div>
												<label for="lieu" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
													{{ 'competition.location'|trans }}
													<span class="text-red-600">*</span>
												</label>
												<input id="lieu" type="text" name="lieu" placeholder="Ex: Gymnase A" required class="block w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																								                           placeholder:text-slate-400 focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"/>
											</div>

											<div>
												<label for="nbTerrain" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
													{{ 'competition.nb_terrains'|trans }}
													<span class="text-red-600">*</span>
												</label>
												<input id="nbTerrain" type="number" name="nbTerrain" min="1" placeholder="1" required class="block w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																								                           placeholder:text-slate-400 focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"/>
											</div>
										</div>

										<div class="grid grid-cols-1 gap-5 md:grid-cols-2">
											<div>
												<label for="dateDebut" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
													{{ 'competition.start_date'|trans }}
													<span class="text-red-600">*</span>
												</label>
												<input id="dateDebut" type="date" name="dateDebut" required class="block w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																								                           focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"/>
											</div>

											<div>
												<label for="dateFin" class="mb-2 block text-xs font-semibold tracking-wide text-slate-700">
													{{ 'competition.end_date'|trans }}
													<span class="text-red-600">*</span>
												</label>
												<input id="dateFin" type="date" name="dateFin" required class="block w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm
																								                           focus:border-emerald-600 focus:ring-4 focus:ring-emerald-600/15"/>
											</div>
										</div>

										<div class="mt-6 flex flex-col-reverse gap-3 sm:flex-row sm:items-center sm:justify-between">
											<a href="{{ path('app_competition') }}" class="inline-flex items-center justify-center rounded-xl bg-slate-100 px-5 py-3 text-sm font-semibold text-slate-700
																										                          hover:bg-slate-200 transition">
												{{ 'button.back'|trans }}
											</a>

											<button type="submit" class="inline-flex items-center justify-center rounded-xl bg-emerald-600 px-6 py-3 text-sm font-semibold text-white
																										                         hover:bg-emerald-700 focus:outline-none focus:ring-4 focus:ring-white/40 transition">
												{{ 'button.create_competition'|trans }}
											</button>
										</div>

										<div class="rounded-xl bg-emerald-600/10 p-3 text-xs text-emerald-900 ring-1 ring-emerald-600/20">
											{{ 'competition.tip_date'|trans }}
										</div>

									</form>
								</div>
							</div>
						{% else %}
							<div class="rounded-2xl bg-white/85 p-8 text-center shadow-lg ring-1 ring-black/5 backdrop-blur">
								<p class="text-lg font-semibold text-slate-900">{{ 'competition.access_denied'|trans }}</p>
								<p class="mt-2 text-sm text-slate-600">{{ 'competition.organizer_only'|trans }}</p>
							</div>
						{% endif %}

					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
